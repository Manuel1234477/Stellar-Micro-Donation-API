# ==========================================
# SERVER CONFIGURATION
# ==========================================

# Port number for the Express server to listen on
# Default: 3000 (can be changed to avoid conflicts with other services)
PORT=3000

# Node environment (development, production, test)
# - development: Enables detailed error messages and verbose logging
# - production: Optimizes for security and performance
# - test: Used for automated testing
NODE_ENV=development

# ==========================================
# STELLAR NETWORK CONFIGURATION
# ==========================================

# Stellar network selection
# - testnet: For development and testing (recommended for local dev)
# - mainnet: For production use with real assets (⚠️  Use with caution!)
# - futurenet: For testing upcoming Stellar features
# 
# Switching networks: Just change this value and restart the server
# No code changes required!
STELLAR_NETWORK=testnet

# Optional: Custom Horizon URL
# Uncomment to override the default Horizon server for your selected network
# Useful for using custom Horizon instances or proxies
# HORIZON_URL=https://horizon-testnet.stellar.org

# Network Presets (for reference)
# ----------------------------------------
# testnet:    https://horizon-testnet.stellar.org
# mainnet:    https://horizon.stellar.org
# futurenet:  https://horizon-futurenet.stellar.org

# Mock Mode (Development/Testing)
# Enable this to simulate Stellar operations without making real network calls
# Useful for rapid development and testing without network latency
# - true: Use mock service (instant responses, no real transactions)
# - false: Use real Stellar network (requires internet connection)
MOCK_STELLAR=false

# ==========================================
# DATABASE CONFIGURATION
# ==========================================

# Database type (currently only SQLite is supported)
DB_TYPE=sqlite

# Path to SQLite database file
# - Relative paths are relative to project root
# - Database will be created automatically if it doesn't exist
# Example: ./data/donations.db (stores in data/ directory)
DB_PATH=./donations.db

# ==========================================
# API CONFIGURATION
# ==========================================

# API route prefix (versioning)
# All endpoints will be prefixed with this value
# Example: /api/v1/donations, /api/v1/wallets
API_PREFIX=/api/v1

# General rate limit (requests per IP per 15 minutes)
# Protects against abuse and DDoS attempts
# Default: 100 requests per 15 minutes
RATE_LIMIT=100

# ==========================================
# SECURITY - API KEY AUTHENTICATION
# ==========================================

# API Keys for protected endpoints
# Provide as comma-separated list for multiple keys (no spaces!)
# 
# ⚠️  IMPORTANT SECURITY NOTES:
# - Generate cryptographically secure keys
# - Use different keys for different environments
# - Never commit real keys to version control
# - Rotate keys periodically in production
#
# Generate secure keys:
#   Linux/Mac:  openssl rand -hex 32
#   Node.js:    node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Example format: key1,key2,key3 (no spaces!)
API_KEYS=dev-key-12345abcdef,test-key-67890ghijkl

# ==========================================
# STELLAR SERVICE ACCOUNT (Optional)
# ==========================================

# Stellar secret key for service operations
# Only needed if the API performs operations on behalf of a service account
# 
# ⚠️  CRITICAL SECURITY WARNING:
# - This is your private key - protect it like a password!
# - Never expose this in logs, error messages, or client-side code
# - Use different keys for testnet and mainnet
# - Store production keys in secure secret management (e.g., AWS Secrets Manager)
#
# Format: Starts with 'S' followed by 55 characters
# Example: SDXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX
# SERVICE_SECRET_KEY=SBCDEFGHIJKLMNOPQRSTUVWXYZ1234567890ABCDEFGHIJKLMNO

# ==========================================
# DONATION LIMITS AND VALIDATION
# ==========================================

# Minimum donation amount in XLM
# Prevents spam transactions and ensures donations meet Stellar's minimum
# Stellar requires minimum 0.0000001 XLM, but higher values reduce spam
# Recommended: 0.01 XLM or higher
MIN_DONATION_AMOUNT=0.01

# Maximum donation amount in XLM
# Protects against accidental large transfers or potential abuse
# Adjust based on your use case
# Example: 10000 XLM (allows substantial donations while preventing errors)
MAX_DONATION_AMOUNT=10000

# Maximum daily donation per donor (in XLM)
# Prevents excessive donations from a single source
# Set to 0 to disable daily limits
# Example: 1000 (limits each donor to 1000 XLM per day)
MAX_DAILY_DONATION_PER_DONOR=0

# ==========================================
# LOGGING CONFIGURATION
# ==========================================

# Enable file-based logging
# - false: Logs only to console (recommended for development)
# - true: Writes logs to files in LOG_DIR (recommended for production)
# 
# File logging creates daily log files: api-YYYY-MM-DD.log
LOG_TO_FILE=false

# Directory for log files (only used if LOG_TO_FILE=true)
# Will be created automatically if it doesn't exist
# Recommended: Use absolute paths in production
LOG_DIR=./logs

# Verbose logging mode
# - false: Standard logging (method, endpoint, status code, duration)
# - true: Detailed logging (includes request/response bodies)
#
# ⚠️  WARNING: Verbose mode may log sensitive data!
# - Only use in development/debugging
# - Never enable in production with real user data
LOG_VERBOSE=false

# ==========================================
# QUICK START GUIDE
# ==========================================
# 
# For local development:
# 1. Copy this file: cp .env.example .env
# 2. Generate API keys: openssl rand -hex 32
# 3. Update API_KEYS with your generated keys
# 4. Keep MOCK_STELLAR=false to test against Stellar testnet
# 5. Start the server: npm start
#
# For production deployment:
# 1. Set NODE_ENV=production
# 2. Set STELLAR_NETWORK=mainnet (only when ready!)
# 3. Generate strong API keys (minimum 32 characters)
# 4. Set LOG_TO_FILE=true for persistent logs
# 5. Secure your SERVICE_SECRET_KEY (use secret management)
# 6. Configure appropriate donation limits
# 7. Review and test all configurations before deploying
#
# For testing without network calls:
# 1. Set MOCK_STELLAR=true
# 2. Develop and test without internet dependency
# 3. Instant responses for rapid iteration
# ==========================================
